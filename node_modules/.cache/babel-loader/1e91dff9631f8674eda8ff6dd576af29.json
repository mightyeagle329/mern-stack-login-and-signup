{"ast":null,"code":"import _regeneratorRuntime from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport LoginService from '../services/LoginService';\nimport Message from '../elements/Message';\nimport Error from '../elements/Error';\nimport { COMMON_FIELDS, REGISTRATION_FIELDS, LOGIN_FIELDS, LOGIN_MESSAGE, ERROR_IN_LOGIN } from '../MessageBundle';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.handleOnChangeUserName = function (e) {\n      _this.setState({\n        user_name: e.target.value\n      });\n    };\n\n    _this.handleOnChangePassword = function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    };\n\n    _this.onSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var data, loginResult;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = {\n                  user_name: _this.state.user_name,\n                  password: _this.state.password\n                };\n                _context.next = 3;\n                return LoginService(data);\n\n              case 3:\n                loginResult = _context.sent;\n\n                if (loginResult !== 200) {\n                  _this.setState({\n                    error: true,\n                    loginSuccess: false\n                  });\n                } else _this.setState({\n                  loginSuccess: true,\n                  error: false\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      user_name: '',\n      password: '',\n      error: false,\n      loginSuccess: false\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          loginSuccess = _this$state.loginSuccess,\n          error = _this$state.error;\n      return React.createElement(\"div\", {\n        className: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, LOGIN_FIELDS.LOGIN_HEADING), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fields\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, COMMON_FIELDS.USER_NAME), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"Username\",\n        onChange: this.handleOnChangeUserName,\n        autoComplete: \"Username\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"fields\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, COMMON_FIELDS.PASSWORD), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"Password\",\n        onChange: this.handleOnChangePassword,\n        autoComplete: \"Password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.onSubmit,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, LOGIN_FIELDS.LOGIN), React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, REGISTRATION_FIELDS.REGISTER)))), loginSuccess && React.createElement(Message, {\n        message: LOGIN_MESSAGE,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), error && React.createElement(Error, {\n        message: ERROR_IN_LOGIN,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/home/ibrahim/Repository/Registration-and-Login-using-MERN-stack/src/components/Login.js"],"names":["React","Component","Link","LoginService","Message","Error","COMMON_FIELDS","REGISTRATION_FIELDS","LOGIN_FIELDS","LOGIN_MESSAGE","ERROR_IN_LOGIN","Login","props","handleOnChangeUserName","e","setState","user_name","target","value","handleOnChangePassword","password","onSubmit","data","state","loginResult","error","loginSuccess","LOGIN_HEADING","USER_NAME","PASSWORD","LOGIN","REGISTER"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport LoginService from '../services/LoginService';\nimport Message from '../elements/Message';\nimport Error from '../elements/Error';\nimport { COMMON_FIELDS, REGISTRATION_FIELDS, LOGIN_FIELDS, LOGIN_MESSAGE, ERROR_IN_LOGIN } from '../MessageBundle';\n\nexport default class Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuser_name: '',\n\t\t\tpassword: '',\n\t\t\terror: false,\n\t\t\tloginSuccess: false\n\t\t}\n\t}\n\n\thandleOnChangeUserName = (e) =>  {\n\t\tthis.setState({\n\t\t\tuser_name: e.target.value\n\t\t});\n\t}\n\n\thandleOnChangePassword = (e) => {\n\t\tthis.setState({\n\t\t\tpassword: e.target.value\n\t\t});\n\t}\n\n\tonSubmit = async e => {\n\t\tconst data = {\n\t\t\tuser_name: this.state.user_name,\n\t\t\tpassword: this.state.password\n\t\t};\n\n\t\tconst loginResult = await LoginService(data);\n\n\t\tif(loginResult !== 200) {\n\t\t\tthis.setState({\n\t\t\t\terror: true,\n\t\t\t\tloginSuccess: false\n\t\t\t});\n\t\t}\n\t\telse\n\t\t\tthis.setState({\n\t\t\t\tloginSuccess: true,\n\t\t\t\terror: false\n\t\t\t});\n\t}\n\n\trender() {\n\t\tconst { loginSuccess, error } = this.state;\n\n\t\treturn (\n\t\t\t <div className=\"Login\">\n\t\t\t\t<h1>{ LOGIN_FIELDS.LOGIN_HEADING }</h1>\n\t\t\t\t<form onSubmit={this.onSubmit}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"fields\">\n\t\t\t\t\t\t\t<p>{ COMMON_FIELDS.USER_NAME }</p>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"Username\" onChange={this.handleOnChangeUserName} autoComplete=\"Username\" required/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"fields\">\n\t\t\t\t\t\t\t<p>{ COMMON_FIELDS.PASSWORD }</p>\n\t\t\t\t\t\t\t<input type=\"password\" name=\"Password\" onChange={this.handleOnChangePassword} autoComplete=\"Password\" required/></div>\n\t\t\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t\t\t<button type=\"button\" onClick={this.onSubmit} className=\"btn btn-primary\">{ LOGIN_FIELDS.LOGIN }</button>\n\t\t\t\t\t\t\t<Link to=\"/register\">{ REGISTRATION_FIELDS.REGISTER }</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t{ loginSuccess && <Message message={LOGIN_MESSAGE} /> }\n\t\t\t\t{ error && <Error message={ERROR_IN_LOGIN} />}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n}\n"]},"metadata":{},"sourceType":"module"}